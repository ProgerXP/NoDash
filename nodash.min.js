/*!
  NoDash.js - a terse utility library based on ES5+ features
  https://squizzle.me/js/nodash | Public domain/Unlicense
*/
!function(n){var e,r,t,i="",o="NoDash";"undefined"==typeof exports||exports.nodeType?"function"==typeof define&&define.amd?define(i.replace(/\?/g,"/").match(/\S+(?=:)/g)||[],n):(e="object"==typeof self?self:"object"==typeof global?global:this||{},r=function(n,t){for(t=t.split(".");n&&t.length;)n=n[t.shift()];return n},i=(i.match(/:\S+/g)||[]).map(function(n){var t=r(e,n=n.substr(1));if(t)return t;throw o+": missing dependency: "+n}),o=o.split(/\.([^.]+)$/),t=(e=1<o.length?r(e,o.shift()):e)._,e._=e[o[0]]=n.apply(this,i),e._.noConflict=function(){return e._=t,e[o[0]]}):(i=(i.replace(/\?[^:]*/g,"").match(/\S+(?=:)/g)||[]).map(require),"undefined"!=typeof module&&module.exports?module.exports=n.apply(this,i):exports=n.apply(this,i))}.call(this,function(){"use strict";function r(n){return function(){throw new TypeError(n+"() does not support object value.")}}function t(n){return function(){return n.apply(s.slice.call(this),arguments)}}function u(n,t,e,r,i){var o;return!(o=t[t.length-1]===l)&&p.isArrayLike(n)||(o&&t.length--,o=t.forceObject=l),e&&(t=s.slice.call(t,e)),(o&&i?i:r).apply(n,t)}function e(n,t,e,r){var i;return p.isArrayLike(n)?(i=("string"==typeof n?n.substr:s.slice).call(n,t,e),r&&(i=i[0])):(i=p.entries(n).slice(t,e),i=r?i.length?i[0][1]:void 0:p.fromEntries(i)),i}function o(n,e){return e=a(e,arguments,2),n=p.map(n,function(n,t){return[t,n,e.apply(void 0,arguments)]}),p.toArray(n).sort(function(n,t){return n[2]>t[2]?1:n[2]<t[2]||n[0]>t[0]?-1:0})}function a(n,t,e,r){return(n=n instanceof Function?[n].concat(r?[void 0]:[],s.slice.call(t||[],e)):n)&&(void 0===n[1]?function(){return n[0].apply(this,n.slice(2).concat(s.slice.call(arguments)))}:Function.prototype.bind.apply(n.shift(),n))}function i(n,t){var e;return n instanceof Function||(e=p.object(s.concat.apply([],t)),n=function(n,t){return p.has(e,t)}),n}function c(n,t,e,r,i){var o;if("string"==typeof e)return i&&n&&t?e.trim():(o="g",r=i?"\\s+":r instanceof RegExp?(o+=r.flags,"("+r.source+")+"):"["+p.escapeRegExp(r)+"]+",o=RegExp("^"+(n?r:"")+"|"+(t?r:"")+"$",o),e.replace(o,""));for(var u=0;n&&u<e.length&&(i?!e[u]:e[u]===r);u++);for(var a=e.length-1;t&&u<a&&(i?!e[a]:e[a]===r);a--);return e.slice(u,a+1)}var s=Array.prototype,f={},l={},p={NODASH:"0.10",forceObject:l,forEach:function(t,e,r){return u(t,arguments,1,s.forEach,function(){Object.keys(t).forEach(function(n){e.call(r,t[n],n,t)})})},map:function(n,r,i){return u(n,arguments,1,s.map,function(){var e={};return p.forEach(n,function(n,t){e[t]=r.apply(i,arguments)},l),e})},reduce:function(e,r,n){return u(e,arguments,1,s.reduce,function(){return arguments[0]=function(n,t){return r(n,t[1],t[0],e)},s.reduce.apply(p.entries(e),arguments)})},reduceRight:function(n,t,e){return u(n,arguments,1,s.reduceRight,r("reduceRight"))},findIndex:function(t,e,r){function i(n,t){if(e.apply(r,arguments))return o=t,!0}var o=-1;return u(t,[i,arguments[arguments.length-1]],0,s.some,function(){o=void 0,Object.keys(t).some(function(n){return i(t[n],n,t)})}),o},find:function(n,t,e){var r=p.findIndex.apply(void 0,arguments);if(void 0!==r)return n[r]},filter:function(r,i,o){return u(r,arguments,1,s.filter,function(){var e={};return Object.keys(r).forEach(function(n){var t=r[n];i.call(o,t,n,r)&&(e[n]=t)}),e})},every:function(n,t,e){return u(n,arguments,1,s.every,function(){return void 0===p.findIndex(n,p.negate(t),e,l)})},some:function(n,t,e){return u(n,arguments,1,s.some,function(){return void 0!==p.findIndex(n,t,e,l)})},sort:function(n,e){return u(n,arguments,1,t(s.sort),function(){return p.entries(n,l).sort(function(n,t){return e.call(void 0,n[1],t[1],n[0],t[0])}).map(function(n){return n[1]})})},includes:function(n,t,e){var r=p.indexOf.apply(void 0,arguments);return-1!==r&&void 0!==r},indexOf:function(e,n,t){return"string"==typeof e?(t<0&&(t+=e.length),e.indexOf(n,t)):u(e,arguments,1,s.indexOf,function(t,n){if(null!=n)throw new TypeError("indexOf() does not support fromIndex for object value.");return p.findIndex(e,function(n){return n===t},l)})},lastIndexOf:function(n,t,e){return"string"==typeof n?(e<0&&(e+=n.length),n.lastIndexOf(t,e)):u(n,arguments,1,s.lastIndexOf,r("lastIndexOf"))},slice:function(e,n,t){return u(e,arguments,1,s.slice,function(n,t){return p.fromEntries(p.entries(e,l).slice(n,t))})},reverse:function(n){return u(n,[],0,t(s.reverse),r("reverse"))},join:function(t,n){return u(t,arguments,1,s.join,function(n){return Object.keys(t).map(function(n){n=t[n];return null==n?"":n}).join(void 0===n?",":n)})},flat:function(n,t){if(t=t||1,p.isArrayLike(n)){if(s.flat)return s.flat.call(n,t);for(;0<=--t&&(n=s.concat.apply([],n.filter(function(){return!0})),t!=1/0||n.some(p.isArrayLike)););return n}for(n=p.entries(n);0<=--t;){for(var e=!1,r=n.length-1;0<=r;r--){var i=n[r][1];i instanceof Object&&(e=n.splice.apply(n,[r,1].concat(p.entries(i))))}if(!e)break}return p.fromEntries(n)},fill:function(n,t,e,r){if(p.isArrayLike(n)&&s.fill)return s.slice.call(n).fill(t,e,r);var i=p.isArrayLike(n);for(n=p.entries(n),e=e||0,arguments.length<4&&(r=1/0);e<r&&e<n.length;e++)n[e][1]=t;return i?n.map(function(n){return n[1]}):p.fromEntries(n)},entries:function(t){return u(t,arguments,0,function(){return p.map(t,function(n,t){return[t,n]})},Object.entries||function(){return Object.keys(t).map(function(n){return[n,t[n]]})})},fromEntries:function(n){var t={};return p.forEach(n,function(n){t[n[0]]=n[1]}),t},keys:function(n){return u(n,arguments,0,function(){return p.range(n.length)},Object.keys)},values:function(t){return u(t,arguments,1,s.slice,function(){return Object.values?Object.values(t):Object.keys(t).map(function(n){return t[n]})})},assign:Object.assign||function(){for(var e=arguments[0],r={},n=arguments.length-1;1<=n;n--)Object.keys(arguments[n]).forEach(function(n,t){p.has(r,t)||(r[t]=null,e[t]=n)});return e},has:function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},startsWith:function(n,e,t){if(0<t||(t=0),"string"==typeof n)return n.substr(t,e.length)==e;n=p.slice(n,t,t+e.length);return n.length==e.length&&n.every(function(n,t){return n===e[t]})},endsWith:function(n,t,e){e=arguments.length<3?n.length:0<e?e:0;return p.startsWith(n,t,e-t.length)},padStart:function(n,t,e,r){Array.isArray(n)||(n+="");t=Math.max(0,t-p.size(n));return e="string"==typeof n?(arguments.length<3&&(e=" "),Array(t+1).join(e).substr(0,t)):p.fill(Array(t),e),r===f?n.concat(e):e.concat(n)},padEnd:function(n,t,e){return arguments.length<3&&!Array.isArray(n)&&(e=" "),p.padStart(n,t,e,f)},repeat:function(n,t){return"string"==typeof n&&n.repeat?n.repeat(t):n.concat.apply(n.constructor(),p.fill(Array(t),n))},trim:function(n,t){return c(!0,!0,n,t,arguments.length<2)},trimStart:function(n,t){return c(!0,!1,n,t,arguments.length<2)},trimEnd:function(n,t){return c(!1,!0,n,t,arguments.length<2)},escape:function(n){var t;return null==n?"":"object"==typeof n?p.map(n,p.escape):(t={"&":"amp","<":"lt",'"':"quot","'":"#39"},(n+"").replace(/[&<"']/g,function(n){return"&"+t[n]+";"}))},escapeRegExp:function(n){return n.replace(/[-^$.*+?{}()[\]|\\]/g,"\\$&")},isArrayLike:function(n){return null!=n&&"number"==typeof n.length},isArguments:function(n){return"[object Arguments]"==Object.prototype.toString.call(n)},isEmpty:function(n){return!n||(p.isArrayLike(n)?n:Object.keys(n)).length<1},isElement:function(n){return n&&1===n.nodeType},negate:function(t,e){return t=a(t),function(){var n=t.apply(this,arguments);return e?-n:!n}},reject:function(n,t,e){return p.filter(n,p.negate(t),e)},first:function(n,t){return e(n,0,1<arguments.length?t:1,arguments.length<=1)},last:function(n,t){return e(n,1<arguments.length?-t:-1,void 0,arguments.length<=1)},initial:function(n,t){return e(n,0,("string"==typeof n&&n.length)+(1<arguments.length?-t:-1))},rest:function(n,t){return e(n,1<arguments.length?t:1)},invoke:function(n,e){var r=arguments;return u(n,r,2,function(){var t=arguments;return p.map(n,function(n){return n[e].apply(n,t)},r.forceObject)})},pluck:function(n,t){return arguments[1]=function(n){return n[t]},p.map.apply(void 0,arguments)},max:function(n,e,t){var r,i;return!e&&p.isArrayLike(n)?Math.max.apply(void 0,n):(i=r=-1/0,e=a(e,arguments,2),p.forEach(n,function(n){var t=+(e?e.apply(void 0,arguments):n);r<t&&(r=t,i=n)}),i)},min:function(n,t,e){t=a(t,arguments,2);n=p.max(n,function(n){return-(t?t.apply(void 0,arguments):n)});return n==-1/0?1/0:n},sum:function(n){return s.splice.call(arguments,1,0,function(n,t){return n+ +t},null),p.reduce.apply(void 0,arguments)},sortBy:function(n,t,e){return o(n,t,e).map(function(n){return n[1]})},groupBy:function(n,r,t){var i=p.isArrayLike(n),o=(r=a(r,arguments,2),{});return p.forEach(n,function(n,t){var e=r.apply(void 0,arguments);i?(o[e]=o[e]||[]).push(n):(o[e]=o[e]||{})[t]=n}),o},indexBy:function(n,t,e){t=a(t,arguments,2);var r=n.constructor();return p.forEach(n,function(n){r[t.apply(void 0,arguments)]=n}),r},countBy:function(n,t,e){t=a(t,arguments,2);var r={};return p.forEach(n,function(){var n=t.apply(void 0,arguments);r[n]=r[n]||0,r[n]++},e),r},shuffle:function(n,t){arguments.length<2&&(t=n.length);var e=p.size(n),r=p.isArrayLike(n);n=r?s.slice.call(n):p.entries(n);for(var i=0;i<e&&i<t;i++){var o=p.random(e-1),u=n[i];n[i]=n[o],n[o]=u}return n.splice(t),r?n:p.fromEntries(n)},sample:function(n,t){return 1<arguments.length?p.shuffle(v,t):p.first(p.shuffle(n,1))},random:function(n,t){switch(arguments.length){case 0:return Math.random();case 1:0<n?(t=n,n=0):t=0;default:return+n+Math.floor(p.random()*(t-n+1))}},toArray:function(n){return"object"!=typeof n||null==n?[n]:p.isArrayLike(n)?s.slice.call(n):p.values(n)},size:function(n,t){return t!==l&&p.isArrayLike(n)?Array.isArray(n)?p.reduce(n,function(n){return n+1},0):n.length:Object.keys(n).length},partition:function(n,e,r){e=a(e,arguments,2);var i=p.isArrayLike(n),o=i?[]:{};return[p.filter(n,function(n,t){if(e.apply(r,arguments))return!0;i?o.push(n):o[t]=n}),o]},compact:function(n,t){return p.filter(n,function(n){return n},t)},without:function(n){var t=s.slice.call(arguments,1);return p.filter(n,function(n){return-1==t.indexOf(n)})},union:function(){for(var e=arguments[0]||[],r=p.isArrayLike(e),n=1;n<arguments.length;n++)p.forEach(arguments[n],function(n,t){p.includes(e,n)||(r?e.push(n):e[t]=n)});return e},intersection:function(n){var e=p.sortBy(s.slice.call(arguments,1),p.size);return p.filter(n,function(t){return p.every(e,function(n){return p.includes(n,t)})})},difference:function(n){var e=p.sortBy(s.slice.call(arguments,1),p.negate(p.size,!0));return p.filter(n,function(t){return!p.some(e,function(n){return p.includes(n,t)})})},unique:function(n,t,e){var r=f;function i(n){if(r!==n)return r=n,!0}return arguments.length<2&&p.isArrayLike(n)?p.sort(n).filter(i):(t=o(n,t=t||function(n){return n+""},e).filter(function(n){return i(n[2])}),p.isArrayLike(n)?t.map(function(n){return n[1]}):p.fromEntries(t))},zip:function(){var e=s.slice.call(arguments);return p.isArrayLike(e[0])||(e=e.length?p.assign.apply(void 0,[{}].concat(e)):[[]]),p.max(e,function(n){return n.length}).map(function(n,t){return p.map(e,function(n){return n[t]})})},unzip:function(e){var n=p.isArrayLike(e)?p.max(e,function(n){return n.length}):e.length?p.assign.apply(void 0,[{}].concat(e)):[[]];return p.map(n,function(n,t){return p.map(e,function(n){return n[t]})})},object:function(t,e){var n=p.isArrayLike(t)?p.zip(t,e||[]):(e=e||{},Object.keys(p.assign.apply(void 0,arguments)).map(function(n){return[t[n],e[n]]}));return p.fromEntries(n)},flip:function(n){n=p.unzip(p.entries(n));return p.object(n[1],n[0])},chunk:function(n,t){var e=p.entries(n),r=[];if(null==t||1<=t)for(;e.length;)r.push(e.splice(0,t||1));return p.isArrayLike(n)?"string"==typeof n?r.map(function(n){return p.pluck(n,1).join("")}):r.map(function(n){return p.pluck(n,1)}):r.map(p.fromEntries)},range:function(n,t,e){switch(arguments.length){case 1:return 0<n?p.range(0,n):p.range(n,1);case 2:e=t<n?-1:1;default:return p.fill(Array(Math.floor((t-n)/e)||0)).map(function(){return(n+=e)-e})}},allKeys:function(n){var t,e=[];for(t in n)e.push(t);return e},pick:function(n,t,e){var r=arguments;return u(n,r,1,function(){return t=i(t,arguments),p.filter(n,t,e,r.forceObject)})},omit:function(n,t,e){var r=arguments;return u(n,r,1,function(){return t=i(t,arguments),p.reject(n,t,e,r.forceObject)})},delay:function(n,t){return setTimeout(a(n,arguments,2,!0),t)},defer:function(){var n=s.slice.call(arguments);return n.splice(1,0,0),p.delay.apply(void 0,n)},redraw:function(n,t){return null!=t&&n.classList.remove(t),n.offsetHeight,null!=t&&n.classList.add(t),n},throttle:function(t,e,r){t=a(t),r=p.assign({leading:!0,trailing:!0},r);var i,o=0;function n(){var n=[this,arguments];i||(Date.now()-o>=e&&r.leading&&(t.apply(n[0],n[1]),o=Date.now()),i=setTimeout(function(){r.trailing&&(t.apply(n[0],n[1]),o=Date.now()),i=null},e))}return n.cancel=function(){i=clearTimeout(i)},n},debounce:function(t,e,n){var r;return t=a(t),(n=n?function(){if(!r)return r=setTimeout(function(){r=null},e),t.apply(this,arguments)}:function(){var n=[this,arguments];clearTimeout(r),r=setTimeout(function(){t.apply(n[0],n[1])},e)}).cancel=function(){r=clearTimeout(r)},n},once:function(n){var t=f;return function(){return t===f&&(t=void 0,t=a(n).apply(this,arguments)),t}},property:function(t,e){return arguments.length<2&&(e=f),function(n){return p.at(n,t,e)}},at:function(n,t,e){"string"!=typeof t&&p.isArrayLike(t)||(t=[t]);for(var r=0;r<t.length;r++){if(null==n)return 2<arguments.length&&e!==f?e:n;n=n[t[r]]}return n},times:function(n,e,t){return e=a(e,arguments,2),p.fill(Array(n)).map(function(n,t){return e.call(void 0,t)})},bind:function(n){return a(n,arguments,1)},isArray:Array.isArray,sign:Math.sign||function(n){return 0<n?1:n<0?-1:0},isEqual:function(n,t){return n==t},flattenDeep:function(n){return p.flat(n,1/0)},partial:function(n){n=[n,void 0].concat(p.rest(arguments));return p.bind.apply(void 0,n)}};return p.forEach({each:"forEach",all:"every",any:"some",contains:"includes",uniq:"unique",extend:"assign",trimLeft:"trimStart",trimRight:"trimEnd",drop:"rest",tail:"rest",dropRight:"initial",flatten:"flat",flattenDepth:"flat",fromPairs:"fromEntries",head:"first",take:"first",takeRight:"last",remove:"reject",zipObject:"object",keyBy:"indexBy",sampleSize:"shuffle",maxBy:"max",minBy:"min",findKey:"findIndex",forOwn:"forEach",invert:"flip",mapValues:"map",toPairs:"entries",pairs:"entries",transform:"reduce",nth:"at"},function(n,t){p[t]=function(){return p[n].apply(void 0,arguments)}}),p}),function(n){var e,r,t="nodash?main:_",i="_";"undefined"==typeof exports||exports.nodeType?"function"==typeof define&&define.amd?define(t.replace(/\?/g,"/").match(/\S+(?=:)/g)||[],n):(e="object"==typeof self?self:"object"==typeof global?global:this||{},r=function(n,t){for(t=t.split(".");n&&t.length;)n=n[t.shift()];return n},t=(t.match(/:\S+/g)||[]).map(function(n){var t=r(e,n=n.substr(1));if(t)return t;throw i+": missing dependency: "+n}),1<(i=i.split(/\.([^.]+)$/)).length&&(e=r(e,i.shift())),Object.assign(e[i[0]],n.apply(this,t))):(t=(t.replace(/\?[^:]*/g,"").match(/\S+(?=:)/g)||[]).map(require),"undefined"!=typeof module&&module.exports?module.exports=n.apply(this,t):exports=n.apply(this,t))}.call(this,function(f){"use strict";return{ajax:function(n){var r=f.assign({},{url:location.href,type:"GET",data:void 0,dataType:"text",context:void 0,beforeSend:new Function,success:new Function,error:new Function,complete:new Function,progress:new Function,timeout:0,headers:{"X-Requested-With":"XMLHttpRequest"},username:void 0,password:void 0},n),i=(r.headers["Content-Type"]||"GET"==r.type||"object"==typeof r.data||(r.headers["Content-Type"]="application/x-www-form-urlencoded"),new XMLHttpRequest),o=[];function t(){o.length||f.defer(function(){var n=[i].concat(Array.prototype.slice.call(o[o.length-1])),t=200<=i.status&&i.status<300&&i.responseType==r.dataType;try{f.bind(t?r.success:r.error).apply(r.context,n)}catch(n){var e=n}if(f.bind(r.complete).apply(r.context,n),e)throw e}),o.push(arguments)}return i.onreadystatechange=function(){4==i.readyState&&t.apply(void 0,arguments)},i.ontimeout=t,!(i.upload.onprogress=function(){var n;o.length||(n=[i].concat(Array.prototype.slice.call(arguments)),f.bind(r.progress).apply(r.context,n))})===f.bind(r.beforeSend).call(r.context,i,r)?f.bind(r.error).call(r.context,i):(i.open(r.type,r.url,!0,r.username,r.password),i.timeout=r.timeout,i.responseType=r.dataType,f.forEach(r.headers,function(n,t){f.toArray(n).forEach(function(n){i.setRequestHeader(t,n)})}),i.send(r.data)),i},template:function(n,u){(u=f.assign({with:!0,laxRef:!0,code:!0},u)).blocks=f.assign({if:function(n,t,e,r){if(n&&"not"!=n)throw new Error('template: bad "if:'+n+'".');return{start:"("+(n?"!":"")+(r||e.ref)(t)+'?""',end:'"":"")'}},elseif:function(t,n,e,r){var i,o=e.stack[0]&&!e.stack[0]._else&&e.stack[0].type;if("for"==o)return"-"==(t=(null==t?"-":t).match(/^(\w*|-)(:(.*))?$/))[1]&&(t[1]=e._lastFor),i=u.blocks.if(t[3],n,e,function(n){return"("+t[1]+"i==-1&&"+(r||e.ref)(n)+")"}),f.assign(i,{start:e.stack.shift().end+"+"+i.start,type:"if",_for:t[1]});if("if"!=o)throw new Error("template: elseif: no preceding if or for.");return null!=e.stack[0]._for&&(arguments[3]=function(n){return"("+e.stack[0]._for+"i==-1&&"+(r||e.ref)(n)+")"},arguments.length++),i=u.blocks.if.apply(this,arguments),e.stack[0].end+=")",{start:'"":'+i.start}},else:function(n,t,e){if(n&&"for"!=(e.stack[0]||{}).type||t)throw new Error("template: else takes no arguments.");return t=u.blocks.elseif(n,"",e,function(){return 1}),e.stack[0]._else=!0,t},for:function(n,t,e){var r=(n||"").match(/^(\*)?(\w*)()$/);if(r)return{head:"var "+(n=e._lastFor=r[2])+"i;",start:"("+n+"i=-1,_x.for("+e.ref(t)+","+!!r[1]+",function("+n+"m,"+n+"k,"+n+"a){"+n+'i++;return""',end:'""}))'};throw new Error('template: bad "for:'+n+'".')}},u.blocks);var t,i={options:u,stack:[],_lastFor:null,extra:{for:function(t,n,e){return null==t||!1===t?"":(n||!f.isArrayLike(t)?f.entries(t).sort(function(n,t){return(n[0]+="")>(t[0]+="")?1:-1}).map(function(n){return e(n[1],n[0],t)}):f.map(t,e)).join("")}},ref:function(n){if(!(n=n.trim()))throw new Error("template: blank ref.");var t;if(t=n.match(/^(\w+)((\.\w+)*)$/))n='["'+t[2].substr(1).replace(/\./g,u.laxRef?'","':'"]["')+'"]',n=u.laxRef?"(typeof "+t[1]+'=="undefined"?undefined:'+(t[2]?"_.at("+t[1]+","+n+")":t[1])+")":t[1]+(t[2]?n:"");else{if(!u.code)throw new Error("template: code refs prohibited.");n="("+n+")"}return n}},o="",e=f.keys(u.blocks).join("|"),a=new RegExp("^("+e+")(:\\S*)?(\\s+(.*))?$"),c=new RegExp("^\\/\\s*("+e+")?\\s*$");if(n instanceof Function?n=n.toString().match(/\/\*([\s\S]*)\*\//)[1].trim():f.isElement(n)&&(n=n.textContent),n=(n=u.backslash?n.replace(/\\[\r\n]\s*/g,""):n).replace(/(\\(\\\\)*)\{\{|((?:\\\\)*)\{\{\s*(.*?)\}\}|(["\\\0-\x1F])/g,function(){var n=arguments;if(n[1])var t=n[0].substr(1);else if(n[5])var e=n[0].charCodeAt(0),t="\\x"+(e<16?"0":"")+e.toString(16);else{t=n[3]+'"+',e=n[4];if(n=e.match(a)){var r=u.blocks[n[1]](n[2]?n[2].substr(1):null,n[3]?n[4]:null,i);o+=r.head||"",t+=r.start||"",r.type=r.type||n[1],r.end&&i.stack.unshift(r)}else if(n=e.match(c)){if(!i.stack.length||n[1]&&i.stack[0].type!=n[1])throw new Error("template: /"+i.stack[0].type+" expected, {{"+n[0]+"}} found.");t+=i.stack.shift().end}else t+="((T="+i.ref(e.substr("="==e[0]))+')==null?"":'+("="==e[0]?"T":"E(T)")+")";t+='+"'}return t}),i.stack.length)throw n=f.pluck(i.stack,"type").join("}} <- {{"),new Error("template: unclosed {{"+n+"}}.");return n=o+'return"'+n+'"',u.with&&(n="with(v){"+n+"}"),u.source||((t=u.prepare)&&"function"!=typeof t&&(u.prepare=function(n){return f.assign({},t,n,{o:f.assign({},t.o,n.o)})}),n="v=v||{};v=_p?_p(v):v;v.o=v.o||{};var T,E=v.o.escaper||function(s){return s};"+n,n=new Function("_p,_,_x,v",n).bind(void 0,u.prepare,f,i.extra)),n},format:function(i,n){function r(n,t){t[8]&&n.e("%"+t[11]+" is incompatible with precision ("+t[8]+")")}i instanceof Object||(n=i,i={});for(var t=f.rest(arguments,1+(i==arguments[0])),e=(i.defaultPrecision=f.assign({s:100,c:100},i.defaultPrecision),i.specifiers=f.assign({s:function(n,t,e){return e=e||"c.next("+n[2]+")",n[8]?"c.ellipsize("+e+","+(n[10]||n[7]||i.defaultPrecision[n[11]]||0)+","+!!n[9]+")":e},c:function(n,t){var e="a=c.next("+n[2]+"),String.fromCharCode.apply(undefined,_.isArrayLike(a)?a:[a])";return i.specifiers.s(n,t,e)},d:function(n,t){return r(t,n),"Math.trunc(c.next("+n[2]+"))"},f:function(n){var t=n[8]?+n[10]||i.defaultPrecision[n[11]]||0:6,e=f.repeat("0",t),r=n[9]||!t,n="Math.round((c.next("+n[2]+")"+(r?"":"+1")+")"+(e&&"*1"+e)+")";return r?"a="+n+(e&&"/1"+e)+'+"",al-=a.length-Math.max(0,a.indexOf(".")),a':"al-="+(t+1)+",a="+n+'+"",a.substr(0,a.length-'+t+')-1+"."+a.substr(-'+t+")"},x:function(n,t,e){return r(t,n),"(+c.next("+n[2]+")).toString("+(e||16)+")"},X:function(n,t){return i.specifiers.x(n,t)+".toUpperCase()"},b:function(n,t){return i.specifiers.x(n,t,2)},o:function(n,t){return i.specifiers.x(n,t,8)},H:function(n,t,e){return r(t,n),"c.next("+n[2]+")."+(e||"getHours")+"()"},I:function(n,t){return i.specifiers.H(n,t,"getMinutes")},S:function(n,t){return i.specifiers.H(n,t,"getSeconds")},Y:function(n,t){return i.specifiers.H(n,t,"getFullYear")},M:function(n,t){return i.specifiers.H(n,t,"getMonth")+"+1"},D:function(n,t){return i.specifiers.H(n,t,"getDate")},K:function(n,t){return i.specifiers.H(n,t,"getDay")}},i.specifiers),{head:"var a,al,c=_.assign({arg:0,args:_.rest(arguments,2)},_c);",options:i,e:function(n){if(this.options.silent)return!0;throw new Error("format: "+n+".")},next:function(n){return n&&(isNaN(n[0])?this.arg+=+n:this.arg=n-1),++this.arg>this.args.length?(this.e("too few arguments"),""):this.args[this.arg-1]},ellipsize:function(n,t,e){var r;return(n+="").length>t?t<=(r=null==i.ellipsis?"...":i.ellipsis).length?e?n.substr(-t):n.substr(0,t):e?r+n.substr(-(t-r.length)):n.substr(0,t-r.length)+r:n}}),o=JSON.stringify(n).split(/%(%|(([+-]\d*|\d+)\$)?(\+ ?)?(([-=])?(0|`.)?(\d+))?(\.(-)?(\d*))?(\w))/),u="";u+=o.shift(),o.length;){var a,c,s=o.splice(0,12);"%"==s[0]?u+="%":(a=i.specifiers[s[11]])?("+"!=s[2]&&"-"!=s[2]||(s[2]+="1"),s[2]=s[2]?'"'+s[2]+'"':"",u+='"+(al=0,a=('+a(s,e)+"),",s[3]&&(u+='(a>0?"'+s[3].substr(-1)+'":"")+'),s[4]?(a=s[7],c=JSON.stringify(f.repeat((s[6]||" ").substr(-1),+a)),"="==s[5]?u+='(a+="",a='+c+".substr(0,("+a+"-a.length+al)/2)+a)+"+c+".substr(a.length)":(c+=".substr(a.length+al)",u+='(a+="",'+(s[5]?"a+"+c:c+"+a")+")")):u+="a",u+=')+"'):e.e("unsupported specifier %"+s[11]+": %"+s[0])}return u=e.head+"a="+u+';c.arg==c.args.length||c.e("too many arguments");return a',0!=i.return&&(u=new Function("_c,_",u).bind(void 0,e,f),1!=i.return)?u.apply(void 0,t):(t.length&&e.e("have both format arg-s and options.return < 2"),u)}}});